#% Do not delete the line below; configure depends on this
# \DeclareLaTeXClass[scrreprt]{classicthesis}

# ClassicThesis v4.2 textclass definition file for LyX > 2.1
# Ivo Pletikosic 2015/8/15

# Please do not edit this file unless you know what you are doing.
# At least make backup copies of all your project files!

Format 49

# tricking LyX into thinking we're providing \usepackage{natbib}
Provides natbib 1
# use hyperref options from classicthesis-config.sty, don't call it from LyX
Provides hyperref 1

DefaultStyle            Standard



AddToPreamble
% Classic Thesis Style loader
\makeatother
\input{classicthesis-config.tex}
\makeatletter

% \input@path is a list of paths where LaTeX should look for files
% LyX defines it as a single element list with the path of the main document in it
% Comes in two forms: {\string "/home/user/dir ectory/\string "/} or {/home/user/directory//}
% This is a hack to extract the bare path from the above strings
\ifcsname input@path\endcsname 
  \edef\@basepath{\expandafter\@firstofone\input@path} %remove braces
  \def\rm@quotes#1"#2"#3\@nul{\ifx\relax#2\relax #1\else #2\fi}
  \edef\@basepath{\expandafter\rm@quotes\@basepath""\@nul} %remove quotes
\else\edef\@basepath{./}\fi


\let\orig@addbibresource\addbibresource
\renewrobustcmd*{\addbibresource}[2][type=file]{\orig@addbibresource[#1]{\@basepath#2}}

EndPreamble



# predefined class options (the class is scrreprt from KOMA Script), all can be overridden
ClassOptions
  Other		"fontsize=11pt,paper=a4,twoside,openright,titlepage,numbers=noenddot,headinclude,BCOR=5mm,footinclude=true,cleardoublepage=empty"
  PageStyle	""
  FontSize	""
End

# use Latin Modern sans serif, (no sans serif fonts in classicthesis.sty though)
AddToPreamble
% use Latin Modern instead of Computer Modern sans serif
\renewcommand{\sfdefault}{lmss}
EndPreamble


SecNumDepth  3
TocDepth     2



########################### (mostly) copying from srcclass.inc ###########################


Style Standard
        LatexName             dummy
        ParIndent             MM
        ParSkip               0.4
        AlignPossible         Block, Left, Right, Center
End


Input stdinsets.inc
Input stdlists.inc
Input stdcounters.inc
Input stdfloats.inc

Input stdsections.inc
Input stdstarsections.inc
#NoStyle Paragraph
NoStyle Paragraph*
NoStyle Subparagraph
NoStyle Subparagraph*

#Input stdtitle.inc	### ClassicThesis uses its own stuff

Input stdstruct.inc
NoStyle Abstract

Input stdlayouts.inc
NoStyle Verse


#Input lyxmacros.inc


Input numreport.inc


Style Bibliography
        TopSep		4
	BottomSep	2
        LabelString	"Bibliography"
        LabelFont
          Series	Bold
          Size		Largest
        EndFont
End



NoStyle Labeling






########################### stuff specific to ClassicThesis style ###########################




############## character styles, access through /Edit/Text Style/ or /right-click/Text Style/


InsetLayout "Flex:CT - Spaced All Caps"
	LyxType		charstyle
	LabelString	"CT - Spaced All Caps"

	LatexType	command
	LatexName	spacedallcaps
	Decoration	Conglomerate
	CustomPars	false
#	PassThru	true
	Font
	  Shape		SmallCaps
	  Size		large
	EndFont
End




InsetLayout "Flex:CT - Spaced Low Small Caps"
	LyxType		charstyle
	LabelString	"CT - Spaced Low Small Caps"
	LatexType	command
	LatexName	spacedlowsmallcaps
	Decoration	Conglomerate
	CustomPars	false
#	PassThru	true
	Font
	  Shape		SmallCaps
	  Size		small
	EndFont
End



# table headline centered and in spaced small caps
InsetLayout "Flex:CT - Table Headline"
	LyxType		charstyle
	LabelString	"CT - Table Headline"
	LatexType	command
	LatexName	tableheadline
	Decoration	Conglomerate
	CustomPars	false
	Font
	  Shape		SmallCaps
	EndFont
End




############## insets, access through /Insert/Custom Insets/


# acronyms, defined in Contents.lyx
InsetLayout "Flex:CT - acronym"
	LyxType		custom
	LabelString	"CT - acronym"
	LatexType	command
	LatexName	ac
	PassThru	true
	MultiPar	false
	CustomPars	false
	ForcePlain	true
	Decoration	Classic
	ContentAsLabel	true
End



# autoreferences, labels are input manually
InsetLayout "Flex:CT - auto cross-reference"
	LyxType		custom
	LabelString	"CT - autoreference"
	LatexType	command
	LatexName	autoref
	PassThru	true
	CustomPars	false
	Decoration 	Classic
	ContentAsLabel	true
End



# group multi-word description labels
InsetLayout "Flex:CT - Description Label"
	LyxType		custom
	LabelString	"CT - Description Label"
	Font
	  Series Bold
	EndFont
End




############## paragraph styles, access through /Standard LyX Toolbar/


Style Part
	TopSep		1
	BottomSep	1
End



Style "Part Introduction (ClassicThesis)"
        Category	Section
	LabelType	Centered
	LabelString	"CT - Introduction to the following part"
	EndLabeltype	Filled_Box
        LatexType	Command
        LatexName	ctparttext
        Margin		Static
	LeftMargin	MMMMMMMMMMMMM
	RightMargin	MMMMMMMMMMMMM
        NextNoIndent	true
        Parsep		3
        TopSep		2.5
        BottomSep	0.5
        Align		Block
	AlignPossible	Block
        Font
          Size		Small
        EndFont
	LabelFont
	  Color		Blue
	EndFont
End



Counter AEnumi
	LabelString	"\Alph{AEnumi}."
End


Style "aEnumerate (ClassicThesis)"
	CopyStyle	Enumerate
	LatexName	aenumerate
	LabelCounter	"AEnum"
End
